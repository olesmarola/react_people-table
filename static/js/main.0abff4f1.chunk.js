(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){},26:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),s=n(7),l=n(5),u=(n(18),n(11)),p=n(8),i=n.n(p),m=n(9),d=n(25),b=n(13),f=n(22),h=n(14),g=n.n(h),y=Object(r.memo)(function(e){var t=e.selected,n=e.selectRow,r=e.headers,c=e.person,o=c.id,s=c.sex,l=c.born,u=c.age,p=c.century;return a.a.createElement("tr",{className:g()("person","person person--lived-in-".concat(p),"m"===s?"person--male":"person--female",{"person--selected":t}),onClick:function(){return n(o)}},r.map(function(e){return a.a.createElement("td",{key:e.code,className:g()({person__bornBefore1650:"name"===e.code&&l<1650},{person__after65:"age"===e.code&&u>=65})},c[e.code])}))}),O=[{code:"id",label:"Id",type:"number"},{code:"name",label:"Name",type:"string"},{code:"sex",label:"Sex",type:"string"},{code:"born",label:"Born",type:"number"},{code:"died",label:"Died",type:"number"},{code:"age",label:"Age",type:"number"},{code:"century",label:"Century",type:"number"},{code:"mother",label:"Mother",type:"string"},{code:"father",label:"Father",type:"string"}],j=Object(r.memo)(function(e){var t=e.people,n=e.handleSortClick,r=Object(l.f)(),c=Object(l.e)(),o=Object(l.g)(),s=function(e){c.push({pathname:"/people/".concat(t.find(function(t){return e===t.id}).name.toLowerCase().replace(/\s/g,"-")),search:r.search})};return t.length>0&&a.a.createElement("table",{className:"people__table"},a.a.createElement("thead",null,a.a.createElement("tr",null,O.map(function(e){return a.a.createElement("th",{key:e.code,onClick:function(){n(e.code)}},e.label)}))),a.a.createElement("tbody",null,t.map(function(e){return a.a.createElement(y,{key:e.name,person:e,headers:O,selected:e.name.toLowerCase().replace(/\s/g,"-")===o.params.person,selectRow:s})})))}),E=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://mate-academy.github.io/react_people-table/api/people.json"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},w=Object(r.memo)(function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(l.f)(),s=Object(l.e)(),p=new URLSearchParams(o.search),h=p.get("query"),g=Object(m.a)(n);if(Object(r.useEffect)(function(){!function(){var e,t;i.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(E());case 2:e=n.sent,t=e.map(function(e,t){return Object(b.a)({},e,{id:t,age:e.died-e.born,century:Math.ceil(e.died/100)})}),c(t);case 5:case"end":return n.stop()}})}()},[]),h){var y=h.trim().toLowerCase();g=n.filter(function(e){return(e.name+e.mother+e.father).toLowerCase().includes(y)})}var w=function(e,t,n){var r=Object(m.a)(e);switch(n){case"string":return r=r.map(function(e){return Object(b.a)({},e,Object(u.a)({},t,e[t]||""))}).sort(function(e,n){return e[t].localeCompare(n[t])});case"number":return r.sort(function(e,n){return e[t]-n[t]}),r;default:return r.sort(),r}};return g=p.get("sortBy")?Object(m.a)(function(e,t,n){var r=O.find(function(e){return e.code===t}).type;return"desc"===n?w(e,t,r).reverse():w(e,t,r)}(Object(m.a)(g),p.get("sortBy"),p.get("sortOrder")||"asc")):Object(m.a)(g),a.a.createElement("div",{className:"App"},a.a.createElement("h1",{className:"title"},"People table"),a.a.createElement("section",{className:"people"},a.a.createElement(f.DebounceInput,{className:"search",placeholder:"Type to search...",type:"search",debounceTimeout:500,onChange:function(e){p.set("query",e.target.value),s.push({search:p.toString()})}}),n.length>0?a.a.createElement(j,{people:g,handleSortClick:function(e){p.get("sortBy")!==e?(p.set("sortBy",e),p.set("sortOrder","asc")):p.set("sortOrder","asc"===p.get("sortOrder")?"desc":"asc"),s.push({search:p.toString()})}}):"Loading...",a.a.createElement("div",{className:"people__count"},"Rows in table: ".concat(g.length))))}),v=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.b,{to:"/people"},"People"),a.a.createElement(l.a,{path:"/people/:person?",component:w}))};o.a.render(a.a.createElement(s.a,null,a.a.createElement(v,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0abff4f1.chunk.js.map